/* static/css/style_relatorio.css */
/* Este arquivo contém APENAS estilos específicos da página de relatório */

/* ================================================================== */
/* --- LAYOUT DA PÁGINA (Específico) --- */
/* ================================================================== */
.page-grid {
    display: grid;
    grid-template-columns: 3fr 1fr;
    gap: 1.5rem;
}

.page-content-main {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.page-sidebar-ai {
    padding: 0;
}

/* ================================================================== */
/* --- FORMULÁRIO DE FILTRO (Específico) --- */
/* ================================================================== */
.form-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
}
.form-group {
    grid-column: span 2;
}
.form-group.full-width {
    grid-column: span 4;
}

.form-input-scrolling {
    margin-top: 0.25rem;
    width: 100%;
    border: 1px solid var(--border-input);
    border-radius: 0.5rem;
    background-color: var(--bg-card);
    padding: 0.75rem;
    height: 9rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.checkbox-group {
    display: flex;
    align-items: center;
}
.form-divider {
    border-top: 1px solid var(--border-card);
    margin: 0.25rem 0;
}
.form-label-checkbox {
    font-size: 0.875rem;
    color: var(--text-content-secondary);
    margin-left: 0.75rem;
}
.checkbox-label-all {
    font-size: 0.875rem;
    font-weight: 700;
    color: var(--text-content);
    margin-left: 0.75rem;
}

/* ================================================================== */
/* --- ÁREA DE EXIBIÇÃO DE RELATÓRIO (Específico) --- */
/* ================================================================== */
.report-card-header {
    justify-content: space-between;
    align-items: flex-start; 
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border-card);
}
.report-card-header:not(.hidden) {
    display: flex;
}

.report-header-info h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-content);
    line-height: 1.2;
}
.report-header-info p {
    font-size: 0.875rem;
    color: var(--text-content-secondary);
    padding-top: 0.25rem;
}
.report-header-actions {
    display: flex;
    gap: 0.5rem;
    flex-shrink: 0; 
}

.report-card-content {
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#report-placeholder {
    text-align: center;
    color: var(--text-content-secondary);
}
.placeholder-icon {
    width: 4rem;
    height: 4rem;
    margin: 0 auto;
    color: #9ca3af;
}
.placeholder-text-lg {
    margin-top: 1rem;
    font-size: 1.125rem;
}
.placeholder-text-sm {
    font-size: 0.875rem;
}

.data-table-wrapper {
    width: 100%;
    overflow-x: auto;
    min-width: 0;
}
.data-table {
    width: 100%;
    border-collapse: collapse;
}
.data-table th, .data-table td {
    padding: 0.75rem 1.5rem;
    text-align: left;
    border-bottom: 1px solid var(--border-card);
    color: var(--text-content);
    font-size: 0.875rem;
    white-space: nowrap;
}
.data-table thead th {
    color: var(--text-sidebar-secondary);
    font-size: 0.75rem;
    text-transform: uppercase;
    font-weight: 600;
    background-color: #f9fafb;
}
.data-table-footer {
    background-color: #f9fafb;
}
.data-table .text-right { text-align: right; }
.data-table .footer-label {
    font-weight: 700;
    text-transform: uppercase;
    color: var(--text-label);
}
.data-table .footer-total {
    font-weight: 700;
    font-size: 0.9rem;
    color: var(--text-content);
}

.report-chart-wrapper {
    width: 100%;
    max-width: 896px;
    margin: 0 auto;
    height: 400px;
}

/* ================================================================== */
/* --- CARD DA IA (Específico) --- */
/* ================================================================== */
.ai-card {
    background-color: var(--bg-card);
    padding: 1.5rem;
    border-radius: 0.75rem;
    box-shadow: var(--shadow-lg);
    border: 2px solid var(--brand-teal);
}
.ai-card h4 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-content);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.ai-card h4 i.fa-brain {
    color: var(--brand-teal) !important; 
}

#ai-insights-panel {
    background-color: #f1f5f9;
    padding: 1rem;
    border-radius: 0.5rem;
    box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.05);
    min-height: 150px;
    margin-bottom: 1rem;
    overflow-y: auto;
    font-size: 0.875rem;
    color: var(--text-content-secondary);
    word-break: break-word;
}
#ai-insights-panel strong {
    color: var(--brand-teal);
    font-weight: 700;
}

#ai-command-box {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}
#ai-command-box .form-label {
    margin-bottom: 0;
}

/* ================================================================== */
/* --- CHECKBOX (Específico do Relatório) --- */
/* ================================================================== */
#company-all:checked,
.company-checkbox:checked {
    background-color: var(--brand-teal) !important;
    border-color: var(--brand-teal) !important;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e") !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-size: 12px 12px !important;
}

#company-all,
.company-checkbox {
    background-color: transparent !important;
    height: 1rem;
    width: 1rem;
    border: 1px solid var(--border-input);
    border-radius: 0.25rem;
    flex-shrink: 0;
    appearance: none;
    -webkit-appearance: none;
}

/* ================================================================== */
/* --- RESPONSIVIDADE (Específica do Relatório) --- */
/* ================================================================== */

/* --- TABLET (1024px e abaixo) --- */
@media (max-width: 1024px) {
    .page-grid {
        grid-template-columns: 1fr;
    }
}

/* --- CELULAR (768px e abaixo) --- */
@media (max-width: 768px) {
    /* Empilhando Grid de Formulário */
    .form-grid {
        grid-template-columns: 1fr;
    }
    .form-group,
    .form-group.full-width {
        grid-column: span 1;
    }
    
    /* Empilhando Cabeçalho do Relatório */
    .report-card-header:not(.hidden) {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    .report-header-actions {
        width: 100%;
    }
    .report-header-actions .button {
        width: 100%;
    }
    
    /* Tabela Responsiva Empilhada (Relatórios) */
    .data-table-wrapper {
        overflow-x: hidden;
    }
    .data-table {
        display: block;
        width: 100%;
    }
    .data-table thead,
    .data-table tfoot {
        display: none;
    }
    .data-table tbody {
        display: block;
        width: 100%;
    }
    .data-table tr {
        display: block;
        border: 1px solid var(--border-card);
        border-radius: 0.5rem;
        margin-bottom: 1rem;
        box-shadow: var(--shadow-sm);
        background-color: var(--bg-card);
    }
    .data-table td {
        display: block;
        text-align: right;
        padding: 0.75rem 1rem;
        white-space: normal; /* Permite quebra de linha */
        border-bottom: 1px dotted var(--border-card);
    }
    .data-table td:last-child {
        border-bottom: none;
    }
    .data-table td[data-label]::before {
        content: attr(data-label);
        float: left;
        font-weight: 600;
        color: var(--text-label);
        margin-right: 1rem;
    }
    .data-table td.text-right {
        text-align: right;
    }
}